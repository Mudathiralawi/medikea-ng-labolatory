<div class="p-4 rounded-sm" style="overflow-x: auto;">
  <h3 class="py-2 text-700 text-lg font-bold">Pending labs</h3>
  <table mat-table [dataSource]="dataSource">

    <ng-container matColumnDef="patientId">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Patient ID </th>
      <td mat-cell *matCellDef="let element"> {{ element.patientId }} </td>
    </ng-container>

    <!-- Patient Name Column -->
    <ng-container matColumnDef="patientName">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Patient Name </th>
      <td mat-cell *matCellDef="let element"> {{ element.patientName }} </td>
    </ng-container>

    <!-- Age Column -->
    <ng-container matColumnDef="age">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Age </th>
      <td mat-cell *matCellDef="let element"> {{ element.age }} </td>
    </ng-container>

    <!-- Gender Column -->
    <ng-container matColumnDef="gender">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Gender </th>
      <td mat-cell *matCellDef="let element"> {{ element.gender }} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="weight">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Weight </th>
      <td mat-cell *matCellDef="let element"> {{ element.weight }} </td>
    </ng-container>

    <!-- Prescriber Column -->
    <ng-container matColumnDef="orderedBy">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Ordered by </th>
      <td mat-cell *matCellDef="let element"> {{ element.orderedBy }} </td>
    </ng-container>

    <!-- Channel Column -->
    <ng-container matColumnDef="channel">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Channel </th>
      <td mat-cell *matCellDef="let element"> {{ element.channel }} </td>
    </ng-container>

    <!-- Status Column -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef style="background-color: rgb(160, 164, 164);"> Status </th>
      <td mat-cell *matCellDef="let element">
        <ng-container *ngIf="element.status === 'Pending'; else notGood">
          {{ element.status }} <button class="text-xs bg-yellow-400 py-1 px-2 rounded-lg ml-2" (click)="collectForm(element)">Collect</button>
        </ng-container>
        <ng-template #notGood>
          <ng-container *ngIf="element.status === 'Collected'; else Good">
          {{ element.status }} <button class="text-xs bg-yellow-400 py-1 px-2 rounded-lg ml-2" (click)="postResult(element)">Post-result</button>
          </ng-container>
          <ng-template #Good>
            {{ element.status }}<button class="text-xs bg-yellow-400 py-1 px-2 rounded-lg ml-2" (click)="results(element)">See result</button>
          </ng-template>
        </ng-template>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator class="rounded-xl mt-1" [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Show table for prescribtion today">
  </mat-paginator>
</div>